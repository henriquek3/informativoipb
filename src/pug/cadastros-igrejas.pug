extends layouts/_layout.pug

block content
    div.ui.segment
        div(style="position: absolute;right: 20px;")
            div.ui.breadcrumb
                a.section(href="inicio")
                    i.home.icon
                div.divider /
                a.section Cadastros
                div.divider /
                div.active.section Igrejas

        div.ui.clearing

        h2.ui.floated.header
            | Cadastro de Igrejas
            div.sub.header
                | Igrejas pertencentes aos presbitério. - breve explicação da tela

        div.ui.clearing.divider
        p
        div.ui.top.attached.tabular.menu
            a.item.active(data-tab="first") Lista
            a.item(data-tab="second") Cadastro
            a.item(data-tab="third") Congregações

        div.ui.bottom.attached.tab.segment.active(data-tab="first")
            table.ui.compact.selectable.celled.green.table(id="tbl_igrejas")
                thead
                    tr
                        th.one.wide Código
                        th.ten.wide Nome
                        th.two.wide.center.aligned Presbitério
                        th.two.wide.center.aligned Sínodo
                tbody(id="tbody_igrejas")

        div.ui.bottom.attached.tab.segment(data-tab="second")
            form(id="cadastros_igrejas", name="cadastros_igrejas")
                | @csrf
                div.ui.form
                    div.fields
                        div.six.wide.field
                            label Sínodo
                            select.ui.fluid.search.dropdown(name="id_sinodo")
                                option

                        div.six.wide.field(id="div_presbiterio")
                            label Presbitério
                            select.ui.fluid.search.dropdown(name="id_presbiterio", id="id_presbiterio")
                            div.ui.active.inline.small.loader(style="display:none", id="loader_presbiterio")

                        div.four.wide.field
                            div.clearfix
                                div.ui.checkbox(style="float: left; display: flex; margin-top: 32px; margin-left: 20px;")
                                    input(name="congregacao_presbiterio", type="checkbox")
                                    label Congregação do Presbitério

                    div.fields
                        div.six.wide.field
                            label Estado
                            select.ui.fluid.search.dropdown(name="id_estado")

                        div.six.wide.field(id="div_cidade")
                            label Cidade
                            select.ui.fluid.search.dropdown(name="id_cidade", id="id_cidade")
                            div.ui.active.inline.small.loader(style="display:none", id="loader_cidade")

                        div.four.wide.field
                            label CNPJ
                            input(type="text" name="cnpj" placeholder="CNPJ")

                    div.fields
                        div.thirteen.wide.field
                            label Nome
                            input(type="text", name="nome" placeholder="Digite o Nome")

                        div.ui.calendar.bottom.left.three.wide.field
                            label Organização
                            //input.datepicker2(type="text" name="data_organizacao" placeholder="Data de Organização")
                            input(type="date" name="data_organizacao" placeholder="Data de Organização")

                    div.fields
                        div.six.wide.field
                            label Endereço
                            input(type="text" name="endereco" placeholder="Endereço")
                        div.two.wide.field
                            label Número
                            input(type="text" name="endereco_numero" placeholder="Número")
                        div.four.wide.field
                            label Complemento
                            input(type="text" name="endereco_complemento" placeholder="Complemento")
                        div.four.wide.field
                            label Bairro
                            input(type="text" name="endereco_bairro" placeholder="Bairro")
                    div.fields
                        div.eight.wide.field
                            label E-mail
                            input(type="email" name="email" placeholder="E-Mail")
                        div.eight.wide.field
                            label Homepage
                            input(type="url" name="website" placeholder="Web Site")

                div.ui.segments
                    div.ui.horizontal.segments
                        div.ui.segment
                            span(style="color: lightslategray;")
                                strong Usuário inclusão:
                            span(style="color: lightslategray;")
                                | &nbsp;
                                span(id="user_inc")
                                | &nbsp;
                            span(style="float: right;color: lightslategray;")
                                strong Data:
                                | &nbsp;
                                span(id="data_inc")

                        div.ui.segment
                            span(style="color: lightslategray;")
                                strong Última alteração:
                            span(style="color: lightslategray;")
                                | &nbsp;
                                span(id="user_alt")
                                | &nbsp;
                            span(style="float: right;color: lightslategray;")
                                strong Data:
                                | &nbsp;
                                span(id="data_alt")

                div.ui.clearing.divider

                div(style="text-align: center")
                    button.ui.green.labeled.icon.button(type="submit")
                        i.plus.icon
                        | Gravar

                    button.ui.reset.button(type="reset")
                        i.minus.icon
                        | Limpar

                    button.ui.red.right.labeled.icon.button(type="button")
                        i.remove.icon
                        | Excluir

        div.ui.bottom.attached.tab.segment(data-tab="third")
            div.ui.top.attached.tabular.menu
                a.item.active(data-tab="first-cong") Lista
                a.item(data-tab="second-cong") Cadastro

            div.ui.bottom.attached.tab.segment.active(data-tab="first-cong")
                table.ui.compact.selectable.celled.blue.table(id="tbl_congregacoes")
                    thead
                        tr
                            th.one.wide Código
                            th.ten.wide Nome
                            th.five.wide Bairro

                    tbody(id="tbody_congregacoes")

            div.ui.bottom.attached.tab.segment(data-tab="second-cong")
                form(id="cadastros_congregacoes", name="cadastros_congregacoes")
                    | @csrf
                    div.ui.form
                        div.fields
                            // Trazer por padrão já selecionado o estado e cidade da igreja, porém permitir alterar.
                            div.eight.wide.field
                                label Estado
                                select.ui.fluid.search.dropdown(name="id_estado")

                            div.eight.wide.field(id="div_cidade_congregacoes")
                                label Cidade
                                select.ui.fluid.search.dropdown(name="id_cidade", id="id_cidade_congregacoes")
                                div.ui.active.inline.small.loader(style="display:none", id="loader_cidade_congregacoes")
                                    
                        div.fields
                            div.ten.wide.field
                                label Nome
                                input(type="text", name="nome" placeholder="Digite seu Nome")
                            div.three.wide.field
                                label CNPJ
                                input(type="text" name="cnpj" placeholder="CNPJ")
                            div.ui.calendar.bottom.left.three.wide.field
                                label Organização
                                input.datepicker2(type="text" name="data_organizacao" placeholder="Data de Organização")
                        div.fields
                            div.six.wide.field
                                label Endereço
                                input(type="text" name="endereco" placeholder="Endereço")
                            div.two.wide.field
                                label Número
                                input(type="text" name="endereco_nr" placeholder="Número")
                            div.four.wide.field
                                label Complemento
                                input(type="text" name="endereco_complemento" placeholder="Complemento")
                            div.four.wide.field
                                label Bairro
                                input(type="text" name="endereco_bairro" placeholder="Bairro")
                        div.fields
                            div.eight.wide.field
                                label E-mail
                                input(type="email" name="email" placeholder="E-Mail")
                            div.eight.wide.field
                                label Homepage
                                input(type="url" name="website" placeholder="Web Site")

                    div.ui.segments
                        div.ui.horizontal.segments
                            div.ui.segment
                                span(style="color: lightslategray;")
                                    strong Usuário inclusão:
                                span(style="color: lightslategray;")
                                    | &nbsp;
                                    span(id="user_inc_congr")
                                    | &nbsp;
                                span(style="float: right;color: lightslategray;")
                                    strong Data:
                                    | &nbsp;
                                    span(id="data_inc_congr")
                            div.ui.segment
                                span(style="color: lightslategray;")
                                    strong Última alteração:
                                span(style="color: lightslategray;")
                                    | &nbsp;
                                    span(id="user_alt_congr")
                                    | &nbsp;
                                span(style="float: right;color: lightslategray;")
                                    strong Data:
                                    | &nbsp;
                                    span(id="data_alt_congr")

                    div.ui.clearing.divider

                    div(style="text-align: center")
                        button.ui.green.labeled.icon.button(type="submit")
                            i.plus.icon
                            | Gravar

                        button.ui.reset.button(type="reset")
                            i.minus.icon
                            | Limpar

                        button.ui.red.right.labeled.icon.button(type="button")
                            i.remove.icon
                            | Excluir

block specific-js
    script(src='js/app/jquery-validate-app.js')
    script(src="js/plugins/bootstrap-datepicker.min.js")
    script(src="js/plugins/bootstrap-datepicker.pt-BR.min.js")
    script(src="js/plugins/dataTables.min.js")
    script(src="js/plugins/sweetalert.min.js")
    script(src="js/app/cadastros-igrejas-app.js")
    script(src="js/plugins/jquery.mask.min.js")
